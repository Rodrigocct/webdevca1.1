<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="Rodrigo Barreto" />
        <title>HomeWork WebDev CA2</title>
        <!-- Core theme CSS (includes Bootstrap)-->
		<link href="css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.js"></script>
		<script>
            function reply_click(clicked_object)
                {
					var sql = clicked_object.getAttribute('data-sql');
                    editor.setValue(sql);
					executeSql(clicked_object);
                }
        </script>
    </head>
    <body>
          <div class="container">
			<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
			  <a href="#" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
				<svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
				<span class="fs-4"><h1>WEB DEV CA2</h1></span>
			  </a>
			  <ul class="nav nav-pills">
				<li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Part 1.1</a></li>
				<li class="nav-item"><a href="part1.2.html" class="nav-link">Part 1.2</a></li>
				<li class="nav-item"><a href="part1.3.html" class="nav-link">Part 1.3</a></li>
			  </ul>
			</header>
		  </div>
		  <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mt-5">
				<h1>1.1 Databases CA Part 1</h1>
                </div>
				
				<table class="table table-striped">
				  <thead>
					<tr>
					  <th>#</th>
					  <th>Script</th>
					  <th>Command</th>					  
					</tr>
				  </thead>
				  <tbody>
					<tr>
					  <th>1. </th>
					  <td>List all attributes present in the departments relation.</td>
					  <td>
							<button name="1.1.1" class="btn btn-success btn-block" data-sql="SELECT * FROM departments LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>2. </th>
					  <td>List all employee IDs of all past/current employees, their first and last names.</td>
					  <td>
							<button name="1.1.2" class="btn btn-success btn-block" data-sql="SELECT emp_id, first_name, last_name FROM employees LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>3. </th>
					  <td>List all department titles present in the database.</td>
					  <td>
							<button name="1.1.3" class="btn btn-success btn-block" data-sql="SELECT departments.dept_id, departments.dept_name, titles.title FROM departments
inner JOIN dept_emp on departments.dept_id = dept_emp.dept_id
inner JOIN titles ON dept_emp.emp_id = titles.emp_id
GROUP BY departments.dept_id, departments.dept_name, titles.title
ORDER by departments.dept_id LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>4. </th>
					   <td>List all unique job titles found in the database, and order them alphabetically</td>
					  <td>
							<button name="1.1.4" class="btn btn-success btn-block" data-sql="SELECT DISTINCT title FROM titles order by title LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>5. </th>
					  <td>List all past/current employees' names ordered alphabetically in ascending order.</td>
					  <td>
							<button name="1.1.5" class="btn btn-success btn-block" data-sql="SELECT (first_name || ' ' || last_name) names FROM employees order by (first_name || ' ' || last_name) LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
				  </tbody>
				</table>
                <div class="col-lg-10 order-2 border-success">
                    <textarea id="commands" class="mb-5" rows="6" cols="175"></textarea>
                    <div class="d-grid gap-2 mt-2 mb-1">
					<button class="btn btn-primary" type="button" id="execute">Execute</button>
                        <input type="file" class="form-control" id="dbfile" />
                    </div>
                    <div id="error" class="error"></div>
                    <pre id="output">Results will be displayed here</pre>
                </div>
            </div>
        </div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/sql/sql.min.js"></script>		
        <script type="text/javascript" src="js/gui.js"></script>  
		
    </body>
</html>